var youTubePlayer,apikey="AIzaSyCG0jIgagtvl4H_XhCRFAd1f8Tn7TrTRVY";function clearAll(){$("#results").html(""),$("#buttons").html(""),$("#query").val(""),$("#query").focus(),$("#mainActionIndicator").show(),$(".actionMainSubText").html("Stop reading this. Search something.")}function search(){$("#results").html(""),$("#buttons").html(""),q=$("#query").val(),$.get("https://www.googleapis.com/youtube/v3/search",{part:"snippet, id",q:q,type:"video",maxResults:20,videoCategoryId:10,key:apikey},function(e){var t=e.nextPageToken,a=e.prevPageToken;$.each(e.items,function(e,t){var a=getOutput(t);$("#results").append(a)});var o=getButtons(a,t);$("#buttons").append(o)})}function nextPage(){var e=$("#load-more-btn").data("token"),t=$("#load-more-btn").data("query");$("#buttons").html(""),t=$("#query").val(),$.get("https://www.googleapis.com/youtube/v3/search",{part:"snippet, id",q:t,pageToken:e,type:"video",maxResults:10,videoCategoryId:10,key:apikey},function(e){var t=e.nextPageToken,a=e.prevPageToken;$.each(e.items,function(e,t){var a=getOutput(t);$("#results").append(a)});var o=getButtons(a,t);$("#buttons").append(o)})}function prevPage(){var e=$("#prev-button").data("token"),t=$("#prev-button").data("query");$("#results").html(""),$("#buttons").html(""),t=$("#query").val(),$.get("https://www.googleapis.com/youtube/v3/search",{part:"snippet, id",q:t,pageToken:e,type:"video",maxResults:6,videoCategoryId:10,key:apikey},function(e){var t=e.nextPageToken,a=e.prevPageToken;$.each(e.items,function(e,t){var a=getOutput(t);$("#results").append(a)});var o=getButtons(a,t);getLoadMore(a,t),$("#buttons").append(o)})}function getOutput(e){var t=e.id.videoId,a=e.snippet.title,o=(e.snippet.description,e.snippet.thumbnails.high.url),l=e.snippet.channelTitle;e.snippet.publishedAt;return'<div class="result-item" id="'+t+'" onclick="youTubePlayerChangeVideoId(this.id);" title="'+a+'"><div class="result-item-cover"><div class="play-trigger" title="Play '+a+'"><div class="play-trigger-wrapper"><i class="material-icons">play_circle_filled</i></div></div><img src="'+o+'" alt="'+a+'"></div><div class="result-item-info"><div class="result-item-title">'+a+'</div><div class="result-item-small" title="by '+l+'">by <span>'+l+'</span></div></div>\x3c!--<div class="iconholder"><i class="material-icons">add_circle</i></div>--\x3e</div>'}function getButtons(e,t){if(e)a='<button style="display: none;" id="prev-button" class="load-button" data-token="'+e+'" data-query="'+q+'"onclick = "prevPage();">Prev Page</button><button id="load-more-btn" class="load-button" data-token="'+t+'" data-query="'+q+'"onclick = "nextPage();"><i class="material-icons">unfold_more</i> <span>Unfold More</span></button> <button id="clearloaded" class="load-button" onclick = "clearAll();"><i class="material-icons">clear</i> <span>Clear All</span></button>';else var a='<button id="load-more-btn" class="load-button" data-token="'+t+'" data-query="'+q+'"onclick = "nextPage();"><i class="material-icons">unfold_more</i> <span>Unfold More</span></button>';return a}function onYouTubeIframeAPIReady(){"use strict";var e,t,a="YouTube-player-volume";(youTubePlayer=new YT.Player("YouTube-player",{videoId:e,height:197,width:350,playerVars:{autohide:0,cc_load_policy:0,controls:0,disablekb:0,iv_load_policy:3,modestbranding:1,rel:0,showinfo:0,start:3},events:{onError:function(e){youTubePlayer.personalPlayer.errors.push(e.data)},onReady:function(a){var o=a.target;o.loadVideoById({suggestedQuality:t,videoId:e}),o.playVideo()},onStateChange:function(e){var t=Math.round(e.target.getVolume()),o=document.getElementById(a);switch(o&&Math.round(o.value)!=t&&(o.value=t),e.data){case 0:$("#player-play-pause").find("i").html("replay"),$(".player-title").html(youTubePlayer.getVideoData().title),$(".player-title").attr("title",youTubePlayer.getVideoData().title);break;case 1:$("#player-play-pause").find("i").html("pause"),$(".player-title").html(youTubePlayer.getVideoData().title),$(".player-title").attr("title",youTubePlayer.getVideoData().title);break;case 2:case 5:$("#player-play-pause").find("i").html("play_arrow"),$(".player-title").html(youTubePlayer.getVideoData().title),$(".player-title").attr("title",youTubePlayer.getVideoData().title)}}}})).personalPlayer={currentTimeSliding:!1,errors:[]}}function youTubePlayerActive(){"use strict";return youTubePlayer&&youTubePlayer.hasOwnProperty("getPlayerState")}function youTubePlayerCurrentTimeChange(e){"use strict";youTubePlayer.personalPlayer.currentTimeSliding=!1,youTubePlayerActive()&&youTubePlayer.seekTo(e*youTubePlayer.getDuration()/100,!0)}function youTubePlayerCurrentTimeSlide(){"use strict";youTubePlayer.personalPlayer.currentTimeSliding=!0}function youTubePlayerChangeVideoId(e){"use strict";var t=e;youTubePlayer.cueVideoById({suggestedQuality:"tiny",videoId:t}),youTubePlayer.playVideo(),youTubePlayerDisplayFixedInfos()}function youTubePlayerDisplayInfos(){"use strict";void 0===this.nbCalls||this.nbCalls>=3?this.nbCalls=0:++this.nbCalls;var e='<span id="indicator-display" title="timing of informations refreshing">'+["|","/",String.fromCharCode(8212),"\\"][this.nbCalls]+"</span>";if(youTubePlayerActive()){var t=youTubePlayer.getPlayerState(),a=youTubePlayer.getCurrentTime(),o=youTubePlayer.getDuration(),l=a&&o?100*a/o:0;youTubePlayer.hasOwnProperty("getVideoLoadedFraction")&&youTubePlayer.getVideoLoadedFraction(),youTubePlayer.getVideoUrl();-1!=t&&($("#playerSplash").hide(),$("#YouTube-player").show()),-1==t||0==t?$(".player-info-controls").hasClass("playerMobileCTRLpullup")?($(".player-info-controls").removeClass("playerMobileCTRLpullup"),setTimeout(function(){$(".right").addClass("pullplayerdown")},350)):$(".right").addClass("pullplayerdown"):$(".right").removeClass("pullplayerdown"),a||(a=0),o||(o=0);youTubePlayer.getVolume();youTubePlayer.personalPlayer.currentTimeSliding||(document.getElementById("YouTube-player-progress").value=l),document.getElementById("player-current-time").innerHTML=secondsToHms(a.toFixed(2)),document.getElementById("player-total-duration").innerHTML=secondsToHms(o.toFixed(2))}else document.getElementById("YouTube-player-infos").innerHTML=e}function youTubePlayerPause(){"use strict";youTubePlayerActive()&&youTubePlayer.pauseVideo()}function youTubePlayerPlay(){"use strict";youTubePlayerActive()&&youTubePlayer.playVideo()}function youTubePlayerStateValueToDescription(e,t){"use strict";var a={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video cued"};return e in a?a[e]:t}function youTubePlayerStop(){"use strict";youTubePlayerActive()&&(youTubePlayer.stopVideo(),youTubePlayer.clearVideo())}function youTubePlayerVolumeChange(e){"use strict";youTubePlayerActive()&&youTubePlayer.setVolume(e)}function youTubePlayerMute(){"use strict";youTubePlayerActive()&&youTubePlayer.mute()}function secondsToHms(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),o=Math.floor(e%3600%60);return(0===t?"":t>0&&t<10?"0"+t+":":t+":")+(0===a?"00:":a>0&&a<10?"0"+a+":":a+":")+(0===o?"00":o>0&&o<10?"0"+o:o)}$(function(){var e,t,a,o=$("#query"),l=new Array("Oh yeah...","Just tike that!","Type it up real nice.","Faster!","You shouldn't have read this.");function i(){$("#mainActionIndicator").hide(),search()}function r(){t=l[Math.floor(Math.random()*l.length)],$(".actionMainSubText").html(t)}o.on("keyup",function(){o.val()?(clearTimeout(e),clearTimeout(a),a=setTimeout(r,100),e=setTimeout(i,1e3)):($("#results").html(""),$("#buttons").html(""),$("#mainActionIndicator").show(),$(".actionMainSubText").html("Stop reading this. Search something."))}),o.on("keydown",function(){clearTimeout(e),clearTimeout(a)})}),$("#player-play-pause").click(function(){var e=youTubePlayer.getPlayerState();youTubePlayerActive()&&1==e?youTubePlayerPause():(youTubePlayerActive()&&2==e||0==e)&&youTubePlayerPlay()}),$("#playerMobileCTRL").click(function(){$(".player-info-controls").toggleClass("playerMobileCTRLpullup")}),$(document).on("keypress",function(e){var t=e.target.tagName.toLowerCase();if(32===e.which&&"input"!=t&&"textarea"!=t&&"button"!=t){event.preventDefault();var a=youTubePlayer.getPlayerState();youTubePlayerActive()&&1==a?youTubePlayerPause():(youTubePlayerActive()&&2==a||0==a)&&youTubePlayerPlay()}}),$("#player_volume_down").click(function(){youTubePlayer.isMuted()?(youTubePlayer.unMute(),$(this).html("volume_down")):(youTubePlayer.mute(),$(this).html("volume_off"))}),function(){"use strict";function e(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),setInterval(youTubePlayerDisplayInfos,1e3)}window.addEventListener?window.addEventListener("load",e):window.attachEvent&&window.attachEvent("onload",e)}(),$(".modal-icon, .modal-overlay").click(function(){$(".modal-dialog").toggleClass("modal-dialog-button"),$(".modal-title").is(":visible")&&$(".modal-body").is(":visible")?($(".modal-title, .modal-body").delay(100).fadeOut(200),$("#feedbackSubmitNotifier").hide()):($(".modal-title, .modal-body").delay(250).fadeIn(200),$("#feedbackSubmitNotifier").delay(600).fadeIn()),$(".modal-feedback, .modal-close").delay(115).fadeToggle(200),$(".modal-overlay").fadeToggle(300)}),$(".tab-title").on("click",function(){var e=$(this).siblings(".tab-title").removeClass("active-modal-tab");if($(this).not(e).addClass("active-modal-tab"),$(this).hasClass("active-modal-tab")){var t=$(this).data("tab-for");$("#"+t).addClass("show-modal-tab-content"),$("#"+t).siblings(".tab-content").removeClass("show-modal-tab-content"),"modal-feedback"==t?$(".modal-title-wrap").html("Feedback or Report"):$(".modal-title-wrap").html("What is Project Retrowave?")}}),$(".modal-body").scroll(function(){$(".modal-body").scrollTop()>0?$(".modal-title").addClass("modal-title-shadow"):$(".modal-title").removeClass("modal-title-shadow")}),$("fieldset").click(function(){var e=$(this).data("fieldset-for");$("#"+e).focus()}),$(".feedbackfield").on("keyup change input",function(){""!=$(this).val()?($(this).siblings(".feedbackformlabel").addClass("labelhasvalue"),$(this).siblings(".inputfieldbar").addClass("labelhasvaluebar")):($(this).siblings(".feedbackformlabel").removeClass("labelhasvalue"),$(this).siblings(".inputfieldbar").removeClass("labelhasvaluebar"))}),$(window).on("load",function(){var e="https://www.googletagmanager.com/gtag/js?id=UA-125059528-1",t="window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-125059528-1');";$(".termSwitch").on("click",function(){$(".termsDataWrapper").scrollTop(0);var e=$(this).siblings(".termSwitch").removeClass("activeTerm");if($(this).not(e).addClass("activeTerm"),$(this).hasClass("activeTerm")){var t=$(this).data("term-for");$("#"+t).show(),$("#"+t).siblings(".termData").hide()}}),"true"!=$.cookie("termsSplash")?($("#termsContainer").show(),$("#acceptTerms").click(function(){$("head").append('<script async src="'+e+'"><\/script>'),$("head").append("<script>"+t+"<\/script>"),$.cookie("termsSplash","true",{expires:7}),$("#termsContainer").hide(),$(".appcontainer .modal-wrapper").show()})):($("head").append('<script async src="'+e+'"><\/script>'),$("head").append("<script>"+t+"<\/script>")),$("#unacceptTerms").click(function(){document.location.href="https://media.giphy.com/media/d2lcHJTG5Tscg/giphy.gif"})});